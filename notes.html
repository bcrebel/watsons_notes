<!DOCTYPE html>
	<head>
		<meta charset="UTF-8">
		<title>Dr. Watson's Notes</title>
		<style>
			h1 {
				text-align: center;
			}
			#notes {
				float: left;
				width: 500px;
				height: 500px;
				border: solid 1px black;
			}

			#mysteries {
				float: right;
				display: block;
				height: 500px;
				width: 500px;
				border: solid 1px green;

			}
		</style>
	</head>
	<body>
		<h1>Dr. Watson's notes are out of order. He needs your help to reorder them.</h1>
		<div id="notes">
		</div>
		<div id="mysteries">
		</div>
		<div id="round">
		</div>
		<div id="tries">
		</div>
 		<script>
		//Tell the player that Dr Watson's notes are out of order. Help him place them with the relevant mystery.
 		//Show x number of clues and a corresponding mystery
		//Create mystery object constructor

		function Mystery (title, clues, irrClues) {
			this.title = title;
			this.clues = clues;
			this.irrClues = irrClues;
			this.printClues = function () {
 				for ( var k = 0;  k < this['clues'].length; k++) {
					// Add p elements for each clue
					document.getElementById('notes').innerHTML += "<button class='wrong' onClick='wrongAnswer()' >" + this.clues[k] + "</button>";

					}
 			},
			this.printIrrClues = function () {
				for ( var k = 0;  k < 1; k++) {
					// Add p elements for each clue
					document.getElementById('notes').innerHTML += "<button onClick='rightAnswer()' class='right'>" + this['irrClues'][Math.floor(Math.random() * this['irrClues'].length)] + "</button>";
 	
				}
			}

		}

  		function wrongAnswer() {
			alert("Sorry, that clue belongs to this mystery");
			attempts+= 1;
			document.getElementById("tries").innerHTML = "<p> Attempts: " + attempts + "</p>";
 		}

		function rightAnswer() {
			var myNode = document.getElementById("notes");
			while (myNode.firstChild) {
    				myNode.removeChild(myNode.firstChild);
			}
			if (i === mysteries.length - 1 ) {
				confirm("Congrats you won. \n Only " + attempts + " attempts. Play again?");
				i = 0;
				startGame(mysteries);				
			} else { 
			alert("Yay that's correct!");
			i++;
			return startGame(mysteries);
 			}
		}


		var baskervilles = new Mystery ("The Hound of the Baskervilles", [ "an old missing boot", "Mr. Stapleton is a blood relative of Sir Henry", "Mr. Stapleton proposes to Laura Lyons", "a portrait of Stapleton looks like Hugo Baskerville", "the moor has been painted with phosphorous"], [] );

		var bohemia = new Mystery ("A Scandal in Bohemia", ["cabinet-sized photograph", "'Good-night, Mister Sherlock Holmes'", "a recess behind a sliding panel", "newlyweds separate at church door", "stiff paper from bohemia"], []);

		var redheads = new Mystery ("The Adventure of the Red-Headed League", ["dirty trouser knees", "fiery red hair", "if you leave, you forfeit your whole position forever", "£4 a week to copy the Encyclopaedia Britannica" ], []);

		var bicycle = new Mystery ("The Adventure of the Solitary Cyclist", ["cyclist with a black beard", "£100 for music teacher, but no horse and trap", "bride with a gagged mouth"],[]);  
		var mysteries = [baskervilles, bohemia, redheads, bicycle];
		
		var i = 0;
		var attempts = 0;
		function startGame (mysteries) {
		//Show x number of clues and a corresponding mystery
 			for ( ; i < mysteries.length; i++) {
				//Keep track of round
				var round = 0,
				round = i + 1;
				//Add a bad clue
				while (true) {
 
					var ranIndex = Math.floor(Math.random() * mysteries.length);
					if (mysteries[i] == mysteries[ranIndex]) {
						true;
 					} else {
						mysteries[i]['irrClues'] = mysteries[ranIndex]['clues'];
						break;
 					}
 				}

				
				//Write title of mystery to the page

				var titleBlock = "";
				titleBlock = ("<p>" + mysteries[i]['title'] + "</p>");
				/*var clueBlock = [];
				clueBlock = mysteries[i]['clues'];
				for ( var k = 0;  k < clueBlock.length; k++) {
					// Add p elements for each clue
					document.getElementById('notes').innerHTML += "<p onclick='wrongAnswer();' class='wrong' >" + clueBlock[k] + "</p>";
					// Add p elements for each clue
	
				}*/
				//document.getElementById('notes').innerHTML += "<p class='right'>" + mysteries[i]['irrClues'][Math.floor(Math.random() * mysteries[i]['irrClues'].length)] + "</p>";

				document.getElementById("mysteries").innerHTML = titleBlock;
				document.getElementById("round").innerHTML = "<p> Round: " + round + "</p>";//add printclue function to construtor!
				document.getElementById("tries").innerHTML = "<p> Attempts: " + attempts + "</p>";

				mysteries[i].printClues();
				mysteries[i].printIrrClues();
				break;


    
  
				//When player clicks the wrong clue, alert that its wrong and increase attempts
				//Function initiates after wrong clue click

				//when player clicks the right clue, alert that its right and restart loop 


				//if the choice is wrong, alert user 
					//count number of attempts
				//if the choice is correct, alert user and proceed to next book
			





			}
					//count correct selections in score
		

		
		}

		startGame(mysteries);
		</script>
	</body>
</html>